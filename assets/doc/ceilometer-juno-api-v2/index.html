<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>OpenStack Ceilometer Juno API V2</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../jquery-ui-1.10.2.min.css" type="text/css" />
  <link rel="stylesheet" href="../xlstablefilter-1.0.1.css" type="text/css" />
  <link rel="stylesheet" href="../doc.css" type="text/css" />
</head>
<body>
<div id="header">
<h1 class="title">OpenStack Ceilometer Juno API V2</h1>
</div>
<div id="TOC">
<ul>
<li><a href="#前言preface"><span class="toc-section-number">1</span> 前言（Preface）</a></li>
<li><a href="#概述"><span class="toc-section-number">2</span> 概述</a><ul>
<li><a href="#词汇表"><span class="toc-section-number">2.1</span> 词汇表</a></li>
</ul></li>
<li><a href="#对象模型object-model"><span class="toc-section-number">3</span> 对象模型（Object Model）</a><ul>
<li><a href="#告警alarm"><span class="toc-section-number">3.1</span> 告警（Alarm）</a></li>
<li><a href="#能力capabilities"><span class="toc-section-number">3.2</span> 能力（Capabilities）</a></li>
<li><a href="#事件event"><span class="toc-section-number">3.3</span> 事件（Event）</a></li>
</ul></li>
<li><a href="#api通用信息"><span class="toc-section-number">4</span> API通用信息</a><ul>
<li><a href="#获取token"><span class="toc-section-number">4.1</span> 获取token</a></li>
<li><a href="#多租户支持multiple-tenant-support"><span class="toc-section-number">4.2</span> 多租户支持（Multiple Tenant Support）</a></li>
</ul></li>
<li><a href="#api操作"><span class="toc-section-number">5</span> API操作</a><ul>
<li><a href="#告警alarm-1"><span class="toc-section-number">5.1</span> 告警（Alarm）</a><ul>
<li><a href="#创建告警create-alarm"><span class="toc-section-number">5.1.1</span> 创建告警（Create Alarm）</a></li>
</ul></li>
<li><a href="#list-alarms"><span class="toc-section-number">5.2</span> List Alarms</a></li>
<li><a href="#get-alarm"><span class="toc-section-number">5.3</span> Get Alarm</a></li>
<li><a href="#能力capabilities-1"><span class="toc-section-number">5.4</span> 能力（Capabilities）</a><ul>
<li><a href="#查询能力详情get-capabilities"><span class="toc-section-number">5.4.1</span> 查询能力详情（Get Capabilities）</a></li>
</ul></li>
<li><a href="#事件event-1"><span class="toc-section-number">5.5</span> 事件（Event）</a><ul>
<li><a href="#查询事件list-events"><span class="toc-section-number">5.5.1</span> 查询事件（List Events）</a></li>
<li><a href="#查询事件详情get-event"><span class="toc-section-number">5.5.2</span> 查询事件详情（Get Event）</a></li>
<li><a href="#查询事件类型list-event-types"><span class="toc-section-number">5.5.3</span> 查询事件类型（List Event Types）</a></li>
<li><a href="#查询特征描述list-traits-description"><span class="toc-section-number">5.5.4</span> 查询特征描述（List Traits Description）</a></li>
<li><a href="#查询特征list-traits"><span class="toc-section-number">5.5.5</span> 查询特征（List Traits）</a></li>
</ul></li>
</ul></li>
<li><a href="#resource"><span class="toc-section-number">6</span> Resource</a><ul>
<li><a href="#list-resources"><span class="toc-section-number">6.1</span> List Resources</a></li>
<li><a href="#get-resource"><span class="toc-section-number">6.2</span> Get Resource</a></li>
</ul></li>
</ul>
</div>
<pre><code>Copyright (c) 2014, Huawei Technologies Co., Ltd
All rights reserved.

Author: ZhiQiang Fan &lt;aji.zqfan@gmail.com&gt;</code></pre>
<h1 id="前言preface"><span class="header-section-number">1</span> 前言（Preface）</h1>
<p>本文档描述OpenStack Ceilometer项目Juno版本ReST API V2，主要依据</p>
<ul>
<li>http://api.openstack.org/api-ref-telemetry.html</li>
<li>http://docs.openstack.org/developer/ceilometer/</li>
<li>https://github.com/openstack/ceilometer</li>
</ul>
<p>在Ubuntu 14.04 64上对Ceilometer 2014.2进行验证，使用的数据库为MySQL。</p>
<h1 id="概述"><span class="header-section-number">2</span> 概述</h1>
<h2 id="词汇表"><span class="header-section-number">2.1</span> 词汇表</h2>
<table>
<thead>
<tr class="header">
<th align="left">名称</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">meter</td>
<td align="left">指标</td>
</tr>
<tr class="even">
<td align="left">sample</td>
<td align="left">采样，数据点</td>
</tr>
<tr class="odd">
<td align="left">statistic</td>
<td align="left">统计</td>
</tr>
<tr class="even">
<td align="left">alarm</td>
<td align="left">告警</td>
</tr>
<tr class="odd">
<td align="left">resource</td>
<td align="left">资源</td>
</tr>
<tr class="even">
<td align="left">event</td>
<td align="left">事件</td>
</tr>
<tr class="odd">
<td align="left">trait</td>
<td align="left">特征</td>
</tr>
</tbody>
</table>
<h1 id="对象模型object-model"><span class="header-section-number">3</span> 对象模型（Object Model）</h1>
<p>注意：对象模型只是系统中对某种资源的建模，并不代表API输入输出时的字段信息。</p>
<p>Ceilometer Juno API V2管理如下对象</p>
<h2 id="告警alarm"><span class="header-section-number">3.1</span> 告警（Alarm）</h2>
<p>在Juno版本中，通过配置，告警对象是可以单独存储在某个数据库中的。不论是分库还是不分库，告警都存储在alarm表中，告警历史信息存储在alarm_history表中。</p>
<ul>
<li>Alarm属性表</li>
</ul>
<table>
<thead>
<tr class="header">
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">CRUD</th>
<th align="left">默认值</th>
<th align="left">约束</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">alarm_id</td>
<td align="left">string</td>
<td align="left">r</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">uuid</td>
</tr>
<tr class="even">
<td align="left">name</td>
<td align="left">string</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">名称，项目内唯一</td>
</tr>
<tr class="odd">
<td align="left">description</td>
<td align="left">string</td>
<td align="left">crw</td>
<td align="left">有</td>
<td align="left">N/A</td>
<td align="left">描述，默认值根据类型而不同</td>
</tr>
<tr class="even">
<td align="left">enabled</td>
<td align="left">bool</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">是否可用</td>
</tr>
<tr class="odd">
<td align="left">user_id</td>
<td align="left">string</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">用户id，只有admin用户可以指定user_id为非自身</td>
</tr>
<tr class="even">
<td align="left">project_id</td>
<td align="left">string</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">项目id，只有admin用户可以指定project_id为非自身</td>
</tr>
<tr class="odd">
<td align="left">state</td>
<td align="left">string</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">见state取值表</td>
<td align="left">状态，取值为ok/alarm/insufficient data</td>
</tr>
<tr class="even">
<td align="left">state_timestamp</td>
<td align="left">datetime</td>
<td align="left">r</td>
<td align="left">N/A</td>
<td align="left">datetime</td>
<td align="left">最后一次状态更新的时间戳</td>
</tr>
<tr class="odd">
<td align="left">timestamp</td>
<td align="left">datetime</td>
<td align="left">r</td>
<td align="left">N/A</td>
<td align="left">datetime</td>
<td align="left">最后一次更新的时间戳</td>
</tr>
<tr class="even">
<td align="left">type</td>
<td align="left">string</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">类型，取值为threshold或combination</td>
</tr>
<tr class="odd">
<td align="left">threshold_rule</td>
<td align="left">AlarmThresholdRule</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">json dict</td>
<td align="left">阈值条件，满足条件则改变状态变为alarm，仅在type=threshold时能且必须被设置</td>
</tr>
<tr class="even">
<td align="left">combination_rule</td>
<td align="left">AlarmCombinationRule</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">json dict</td>
<td align="left">组合条件，满足条件则状态变为alarm，仅在type=combination时能且必须被设置</td>
</tr>
<tr class="odd">
<td align="left">ok_actions</td>
<td align="left">list</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">alarm状态跃迁为ok时执行的动作</td>
</tr>
<tr class="even">
<td align="left">alarm_actions</td>
<td align="left">list</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">alarm状态跃迁为alarm时执行的动作</td>
</tr>
<tr class="odd">
<td align="left">insufficient_data_actions</td>
<td align="left">list</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">alarm状态跃迁为insufficient data时执行的动作</td>
</tr>
<tr class="even">
<td align="left">repeat_actions</td>
<td align="left">bool</td>
<td align="left">crw</td>
<td align="left">N/A</td>
<td align="left">N/A</td>
<td align="left">是否重复执行动作</td>
</tr>
</tbody>
</table>
<p>注意，当enable=false时，告警不会在alarm-evaluator周期到来时被纳入评估</p>
<p>user_id和project_id默认是谁创建告警就设置为谁的user_id和project_id，只有admin用户可以指定为任意值。注意，OpenStack跨项目时不对uuid的正确性进行校验。</p>
<p>告警状态为ok，表示告警规则中指定的条件尚未满足；状态为alarm，表示告警规则中指定的条件已经满足；状态为insufficient data，表示无法从系统中获取足够数据断告警的状态。</p>
<p>state_timestamp和timestamp为UTC时间，格式&quot;YYYY-mm-ddTHH:MM:SS.f&quot;，例如2015-01-04T14:36:00.443839。</p>
<p>注意，threshold_rule和combination_rule二者只能为其中一个，且必须设置和type对应的那个。</p>
<p>ok_actions，alarm_actions，insufficient_data_actions是状态变迁时所触发的动作。每个action可以指定多个值。</p>
<h2 id="能力capabilities"><span class="header-section-number">3.2</span> 能力（Capabilities）</h2>
<ul>
<li>Capabilities属性表</li>
</ul>
<table>
<thead>
<tr class="header">
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">CRUD</th>
<th align="left">默认值</th>
<th align="left">约束</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">api</td>
<td align="left">str</td>
<td align="left">r</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">storage</td>
<td align="left">str</td>
<td align="left">r</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">alarm_storage</td>
<td align="left">str</td>
<td align="left">r</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<h2 id="事件event"><span class="header-section-number">3.3</span> 事件（Event）</h2>
<ul>
<li>Event属性表</li>
</ul>
<table>
<thead>
<tr class="header">
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">CRUD</th>
<th align="left">默认值</th>
<th align="left">约束</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">message_id</td>
<td align="left">str</td>
<td align="left">r</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">消息ID</td>
</tr>
<tr class="even">
<td align="left">event_type</td>
<td align="left">str</td>
<td align="left">r</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">事件类型</td>
</tr>
<tr class="odd">
<td align="left">traits</td>
<td align="left">list</td>
<td align="left">r</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">Trait列表</td>
</tr>
<tr class="even">
<td align="left">generated</td>
<td align="left">str</td>
<td align="left">r</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">生成事件</td>
</tr>
</tbody>
</table>
<ul>
<li>TraitDescription属性表</li>
</ul>
<table>
<thead>
<tr class="header">
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">CRUD</th>
<th align="left">默认值</th>
<th align="left">约束</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">type</td>
<td align="left">str</td>
<td align="left">r</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">特征类型，默认是string</td>
</tr>
<tr class="even">
<td align="left">name</td>
<td align="left">str</td>
<td align="left">r</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">特征名称</td>
</tr>
</tbody>
</table>
<ul>
<li>Trait属性表</li>
</ul>
<table>
<thead>
<tr class="header">
<th align="left">属性</th>
<th align="left">类型</th>
<th align="left">CRUD</th>
<th align="left">默认值</th>
<th align="left">约束</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">type</td>
<td align="left">str</td>
<td align="left">r</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">特征类型</td>
</tr>
<tr class="even">
<td align="left">name</td>
<td align="left">str</td>
<td align="left">r</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">特征名称</td>
</tr>
<tr class="odd">
<td align="left">value</td>
<td align="left">str</td>
<td align="left">r</td>
<td align="left"></td>
<td align="left"></td>
<td align="left">特征的值</td>
</tr>
</tbody>
</table>
<h1 id="api通用信息"><span class="header-section-number">4</span> API通用信息</h1>
<h2 id="获取token"><span class="header-section-number">4.1</span> 获取token</h2>
<p>Ceilometer API v2使用Keystone Identity Service作为默认的鉴权服务，用户向Ceilometer API发送请求，请求的HTTP Head中必须包括一个X-Auth-Token参数，X-Auth-Token的值必须是一个经过Keystone授权分配的token，通过Keystone分配token的方法，请查阅Keystone的接口文档。</p>
<p>HTTP 消息样例：</p>
<table>
<thead>
<tr class="header">
<th align="left">Element</th>
<th align="left">Content</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">HTTP HEAD</td>
<td align="left">X-Auth-Token：9c81513600564b31b32d5918963778b3 Content-type：application/json</td>
</tr>
<tr class="even">
<td align="left">HTTP BODY</td>
<td align="left">{...}</td>
</tr>
</tbody>
</table>
<h2 id="多租户支持multiple-tenant-support"><span class="header-section-number">4.2</span> 多租户支持（Multiple Tenant Support）</h2>
<p>Ceilometer中大部分对象都具有租户属性，如果是资源相关的对象，租户属性从资源中取得，如果是Alarm对象，租户属性在创建、修改Alarm时由http头部信息中的X-Project-Id获得，或者在消息体中指定。</p>
<h1 id="api操作"><span class="header-section-number">5</span> API操作</h1>
<h2 id="告警alarm-1"><span class="header-section-number">5.1</span> 告警（Alarm）</h2>
<h3 id="创建告警create-alarm"><span class="header-section-number">5.1.1</span> 创建告警（Create Alarm）</h3>
<table>
<thead>
<tr class="header">
<th align="left">REST VERB</th>
<th align="left">URI</th>
<th align="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">POST</td>
<td align="left">/v2/alarms</td>
<td align="left">创建告警</td>
</tr>
</tbody>
</table>
<ul>
<li>request filter参数</li>
</ul>
<p>无</p>
<ul>
<li>request body参数</li>
</ul>
<p>body是json字典的字符串，注意，目前Ceilometer不支持同时创建多个告警。</p>
<table>
<thead>
<tr class="header">
<th align="left">参数名（Field）</th>
<th align="left">参数类型（Type）</th>
<th align="left">约束（Limit）</th>
<th align="left">必选（Required）</th>
<th align="left">备注（Notes）</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">name</td>
<td align="left">string</td>
<td align="left">project内唯一</td>
<td align="left">YES</td>
<td align="left">告警名称</td>
</tr>
<tr class="even">
<td align="left">description</td>
<td align="left">string</td>
<td align="left">N/A</td>
<td align="left">NO</td>
<td align="left">告警描述</td>
</tr>
<tr class="odd">
<td align="left">project_id</td>
<td align="left">string</td>
<td align="left">仅admin可指定非自身项目</td>
<td align="left">NO</td>
<td align="left">告警所属项目</td>
</tr>
<tr class="even">
<td align="left">user_id</td>
<td align="left">string</td>
<td align="left">仅admin可指定非自身用户</td>
<td align="left">NO</td>
<td align="left">告警所属用户</td>
</tr>
<tr class="odd">
<td align="left">state</td>
<td align="left">string</td>
<td align="left">见state可选值表</td>
<td align="left">NO</td>
<td align="left">告警状态，默认是insufficient data</td>
</tr>
<tr class="even">
<td align="left">enabled</td>
<td align="left">bool</td>
<td align="left">见enabled约束表</td>
<td align="left">NO</td>
<td align="left">告警是否激活</td>
</tr>
<tr class="odd">
<td align="left">type</td>
<td align="left">string</td>
<td align="left">只能为threshold、combination二者之一</td>
<td align="left">YES</td>
<td align="left">告警类型</td>
</tr>
<tr class="even">
<td align="left">threshold_rule</td>
<td align="left">dict</td>
<td align="left">当且仅当type=threshold时设置，详见threshold_rule参数列表</td>
<td align="left">YES</td>
<td align="left">告警规则</td>
</tr>
<tr class="odd">
<td align="left">combination_rule</td>
<td align="left">dict</td>
<td align="left">当且仅当type=combination时设置，详见combination_rule参数列表</td>
<td align="left">YES</td>
<td align="left">告警规则</td>
</tr>
<tr class="even">
<td align="left">alarm_action</td>
<td align="left">list</td>
<td align="left">参见action约束</td>
<td align="left">NO</td>
<td align="left">state=alarm时的动作</td>
</tr>
<tr class="odd">
<td align="left">ok_action</td>
<td align="left">list</td>
<td align="left">参见action约束</td>
<td align="left">NO</td>
<td align="left">state=ok时的动作</td>
</tr>
<tr class="even">
<td align="left">insufficient_data_action</td>
<td align="left">list</td>
<td align="left">参见action约束</td>
<td align="left">NO</td>
<td align="left">state=insufficient data时的动作</td>
</tr>
<tr class="odd">
<td align="left">repeat_actions</td>
<td align="left">bool</td>
<td align="left">N/A</td>
<td align="left">NO</td>
<td align="left">是否重复执行动作，为真则每个评估周期不论状态是否变化均执行，否则仅当状态发生变化时执行</td>
</tr>
<tr class="even">
<td align="left">time_constraints</td>
<td align="left">list</td>
<td align="left">参见time_constraints参数列表</td>
<td align="left">NO</td>
<td align="left">告警生效的时间段</td>
</tr>
</tbody>
</table>
<p>state可选值表</p>
<table>
<thead>
<tr class="header">
<th align="left">可选值</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ok</td>
<td align="left">正常状态</td>
</tr>
<tr class="even">
<td align="left">alarm</td>
<td align="left">告警状态</td>
</tr>
<tr class="odd">
<td align="left">insufficient data</td>
<td align="left">数据不充足</td>
</tr>
</tbody>
</table>
<p>enabled约束表</p>
<table>
<thead>
<tr class="header">
<th align="left">可选值</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">t, true, on, y, yes, 1</td>
<td align="left">大小写不敏感，取值为True</td>
</tr>
<tr class="even">
<td align="left">其他</td>
<td align="left">取值为False</td>
</tr>
</tbody>
</table>
<p>threshold_rule参数列表</p>
<p>threshold_rule会被用于评估阈值告警（threshold alarm）时从Statistics接口获取数据（详见查询统计（Get Statistics）章节），判断状态。</p>
<table>
<thead>
<tr class="header">
<th align="left">参数名（Field）</th>
<th align="left">参数类型（Type）</th>
<th align="left">约束（Limit）</th>
<th align="left">必选（Required）</th>
<th align="left">备注（Notes）</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">meter_name</td>
<td align="left">string</td>
<td align="left">N/A</td>
<td align="left">YES</td>
<td align="left">指标名称</td>
</tr>
<tr class="even">
<td align="left">threshold</td>
<td align="left">float</td>
<td align="left">N/A</td>
<td align="left">YES</td>
<td align="left">告警阈值</td>
</tr>
<tr class="odd">
<td align="left">query</td>
<td align="left">list</td>
<td align="left">N/A</td>
<td align="left">NO</td>
<td align="left">过滤条件</td>
</tr>
<tr class="even">
<td align="left">period</td>
<td align="left">int</td>
<td align="left">&gt;=1</td>
<td align="left">NO</td>
<td align="left">时间窗口长度，单位秒，默认60秒</td>
</tr>
<tr class="odd">
<td align="left">evaluation_periods</td>
<td align="left">int</td>
<td align="left">&gt;=1</td>
<td align="left">时间窗口数量，默认1</td>
</tr>
<tr class="even">
<td align="left">comparison_operator</td>
<td align="left">string</td>
<td align="left">只能为['lt', 'le', 'eq', 'ne', 'ge', 'gt']其中之一</td>
<td align="left">比较操作符，默认为eq</td>
</tr>
<tr class="odd">
<td align="left">statistic</td>
<td align="left">string</td>
<td align="left">只能为['max', 'min', 'avg', 'sum', 'count']其中之一</td>
<td align="left">统计维度，默认为avg</td>
</tr>
<tr class="even">
<td align="left">exclude_outliers</td>
<td align="left">bool</td>
<td align="left">N/A</td>
<td align="left">是否排除在标准差范围外的数据，默认False，不排除</td>
</tr>
</tbody>
</table>
<p>注意：period的值应该要保证比指标采集周期要大，否则很容易出现insufficient data状态。原因是告警评估周期到来时，每个告警是从当前时间倒推(evaluation_periods+1)*period秒数，从中取出监控数据，如果period值比监控周期小，此时很可能取不到数据。</p>
<p>提示：你可以在query字段添加过滤条件，限定取监控数据的范围，例如指定只监控resource id为a375caf9a73d4a49bb40321639003909的数据，CLI中可以通过指定--query &quot;resource_id=a375caf9a73d4a49bb40321639003909&quot;来过滤</p>
<p>combination_rule参数列表</p>
<p>combination_rule会被用于评估组合告警（combination alarm）</p>
<table>
<thead>
<tr class="header">
<th align="left">参数名（Field）</th>
<th align="left">参数类型（Type）</th>
<th align="left">约束（Limit）</th>
<th align="left">必选（Required）</th>
<th align="left">备注（Notes）</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">alarm_ids</td>
<td align="left">list</td>
<td align="left">至少2个不同的告警，且告警必须存在</td>
<td align="left">YES</td>
<td align="left">告警id列表，元素是告警id</td>
</tr>
<tr class="even">
<td align="left">operator</td>
<td align="left">string</td>
<td align="left">只能是and或者or</td>
<td align="left">NO</td>
<td align="left">告警逻辑操作符，and是alarm_ids中所有告警都为alarm才设置本告警为alarm，or则是只要有一个是alarm则本告警为alarm</td>
</tr>
</tbody>
</table>
<p>action约束</p>
<p>action多数情况下是一个字符串的URL，例如www.domainname.com/xyz，目前Ceilometer支持的action有如下几种：</p>
<ul>
<li>log：指定方式为log://，会在Ceilometer的日志文件中打印告警</li>
<li>http: 指定方式为http://www.domainname.com/xyz，会POST请求到该URL</li>
<li>https: 指定方式为https://www.domainname.com/xyz，会POST请求到该URL</li>
<li>test: 指定方式为test://，不要使用这种方式，仅作测试用途，对告警不会有任何效果</li>
<li>trust+http：指定方式为trust+http://，你需要进行额外设置才可以使用</li>
<li>trust+https：指定方式为trust+https://，你需要进行额外设置才可以使用</li>
</ul>
<p>你可以同时指定多个action，每个action种类可以不同。</p>
<p>time_constraints参数列表：</p>
<table>
<thead>
<tr class="header">
<th align="left">参数名（Field）</th>
<th align="left">参数类型（Type）</th>
<th align="left">约束（Limit）</th>
<th align="left">必选（Required）</th>
<th align="left">备注（Notes）</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">name</td>
<td align="left">string</td>
<td align="left">N/A</td>
<td align="left">YES</td>
<td align="left">告警约束名称</td>
</tr>
<tr class="even">
<td align="left">description</td>
<td align="left">string</td>
<td align="left">N/A</td>
<td align="left">NO</td>
<td align="left">告警约束描述</td>
</tr>
<tr class="odd">
<td align="left">start</td>
<td align="left">string</td>
<td align="left">cron job类型的字符串</td>
<td align="left">YES</td>
<td align="left">告警约束的开始点</td>
</tr>
<tr class="even">
<td align="left">duration</td>
<td align="left">integer</td>
<td align="left">&gt;=0</td>
<td align="left">YES</td>
<td align="left">告警约束的持续时间，单位秒</td>
</tr>
<tr class="odd">
<td align="left">timezone</td>
<td align="left">string</td>
<td align="left">N/A</td>
<td align="left">NO</td>
<td align="left">告警约束的时区信息，默认为''</td>
</tr>
</tbody>
</table>
<p>示例，注意，此处为了方便举例把json string格式化了。</p>
<pre class="sourceCode json"><code class="sourceCode json">[
    {
        <span class="dt">&quot;description&quot;</span>: <span class="st">&quot;Time constraint at 0 23 * * * lasting for 10800 seconds&quot;</span>,
        <span class="dt">&quot;duration&quot;</span>: <span class="dv">10800</span>,
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;alarm-constraint-01&quot;</span>,
        <span class="dt">&quot;start&quot;</span>: <span class="st">&quot;0 23 * * *&quot;</span>,
        <span class="dt">&quot;timezone&quot;</span>: <span class="st">&quot;Europe/Ljubljana&quot;</span>
    }
]</code></pre>
<ul>
<li>response body参数</li>
</ul>
<p>参见<a href="#get-alarm">查询告警详情（Get Alarm）</a>章节</p>
<p>示例，一个完整的创建告警的请求如下，里面包含了定义threshold_rule参数，定义query，定义time_constraints，但是并没有覆盖所有字段：</p>
<p>curl -i -X POST -H 'X-Auth-Token: 897de9edb774462ba5c3b875553f8087' -H 'Content-Type: application/json' -H 'Accept: application/json' -H 'User-Agent: python-ceilometerclient' -d '{&quot;threshold_rule&quot;: {&quot;meter_name&quot;: &quot;cpu_util&quot;, &quot;evaluation_periods&quot;: 3, &quot;period&quot;: 1800, &quot;statistic&quot;: &quot;min&quot;, &quot;threshold&quot;: 80.0, &quot;query&quot;: [{&quot;field&quot;: &quot;resource_id&quot;, &quot;type&quot;: &quot;&quot;, &quot;value&quot;: &quot;10e8216e-4b36-4f93-942f-19b9f09e84e5&quot;, &quot;op&quot;: &quot;eq&quot;}], &quot;comparison_operator&quot;: &quot;ge&quot;}, &quot;time_constraints&quot;: [{&quot;duration&quot;: &quot;10800&quot;, &quot;start&quot;: &quot;0 23 * * *&quot;, &quot;name&quot;: &quot;alarm-constraint-01&quot;}], &quot;type&quot;: &quot;threshold&quot;, &quot;name&quot;: &quot;cpu-alarm&quot;, &quot;repeat_actions&quot;: false}' http://172.128.231.201:8777/v2/alarms</p>
<p>-d参数json格式化后为：</p>
<pre class="sourceCode json"><code class="sourceCode json">{
    <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;cpu-alarm&quot;</span>,
    <span class="dt">&quot;repeat_actions&quot;</span>: <span class="dv">false</span>,
    <span class="dt">&quot;threshold_rule&quot;</span>: {
        <span class="dt">&quot;comparison_operator&quot;</span>: <span class="st">&quot;ge&quot;</span>,
        <span class="dt">&quot;evaluation_periods&quot;</span>: <span class="dv">3</span>,
        <span class="dt">&quot;meter_name&quot;</span>: <span class="st">&quot;cpu_util&quot;</span>,
        <span class="dt">&quot;period&quot;</span>: <span class="dv">1800</span>,
        <span class="dt">&quot;query&quot;</span>: [
            {
                <span class="dt">&quot;field&quot;</span>: <span class="st">&quot;resource_id&quot;</span>,
                <span class="dt">&quot;op&quot;</span>: <span class="st">&quot;eq&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;10e8216e-4b36-4f93-942f-19b9f09e84e5&quot;</span>
            }
        ],
        <span class="dt">&quot;statistic&quot;</span>: <span class="st">&quot;min&quot;</span>,
        <span class="dt">&quot;threshold&quot;</span>: <span class="fl">80.0</span>
    },
    <span class="dt">&quot;time_constraints&quot;</span>: [
        {
            <span class="dt">&quot;duration&quot;</span>: <span class="st">&quot;10800&quot;</span>,
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;alarm-constraint-01&quot;</span>,
            <span class="dt">&quot;start&quot;</span>: <span class="st">&quot;0 23 * * *&quot;</span>
        }
    ],
    <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;threshold&quot;</span>
}</code></pre>
<p>得到的响应是：</p>
<p>{&quot;alarm_actions&quot;: [], &quot;ok_actions&quot;: [], &quot;name&quot;: &quot;cpu-alarm&quot;, &quot;timestamp&quot;: &quot;2015-01-04T02:25:44.216495&quot;, &quot;enabled&quot;: true, &quot;state&quot;: &quot;insufficient data&quot;, &quot;state_timestamp&quot;: &quot;2015-01-04T02:25:44.216495&quot;, &quot;threshold_rule&quot;: {&quot;meter_name&quot;: &quot;cpu_util&quot;, &quot;evaluation_periods&quot;: 3, &quot;period&quot;: 1800, &quot;statistic&quot;: &quot;min&quot;, &quot;threshold&quot;: 80.0, &quot;query&quot;: [{&quot;field&quot;: &quot;resource_id&quot;, &quot;type&quot;: &quot;&quot;, &quot;value&quot;: &quot;10e8216e-4b36-4f93-942f-19b9f09e84e5&quot;, &quot;op&quot;: &quot;eq&quot;}], &quot;comparison_operator&quot;: &quot;ge&quot;, &quot;exclude_outliers&quot;: false}, &quot;alarm_id&quot;: &quot;623df1be-ca06-431e-87ae-ab46750e2c03&quot;, &quot;time_constraints&quot;: [{&quot;duration&quot;: 10800, &quot;start&quot;: &quot;0 23 * * <em>&quot;, &quot;timezone&quot;: &quot;&quot;, &quot;name&quot;: &quot;alarm-constraint-01&quot;, &quot;description&quot;: &quot;Time constraint at 0 23 </em> * * lasting for 10800 seconds&quot;}], &quot;insufficient_data_actions&quot;: [], &quot;repeat_actions&quot;: false, &quot;user_id&quot;: &quot;2630d3c577df426bab9a4d9bfa986297&quot;, &quot;project_id&quot;: &quot;d1578b5392f744b68dd8ad23412a8cd4&quot;, &quot;type&quot;: &quot;threshold&quot;, &quot;description&quot;: &quot;Alarm when cpu_util is ge a min of 80.0 over 1800 seconds&quot;}</p>
<p>json格式化后为：</p>
<pre class="sourceCode json"><code class="sourceCode json">{
    <span class="dt">&quot;alarm_actions&quot;</span>: [],
    <span class="dt">&quot;alarm_id&quot;</span>: <span class="st">&quot;623df1be-ca06-431e-87ae-ab46750e2c03&quot;</span>,
    <span class="dt">&quot;description&quot;</span>: <span class="st">&quot;Alarm when cpu_util is ge a min of 80.0 over 1800 seconds&quot;</span>,
    <span class="dt">&quot;enabled&quot;</span>: <span class="dv">true</span>,
    <span class="dt">&quot;insufficient_data_actions&quot;</span>: [],
    <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;cpu-alarm&quot;</span>,
    <span class="dt">&quot;ok_actions&quot;</span>: [],
    <span class="dt">&quot;project_id&quot;</span>: <span class="st">&quot;d1578b5392f744b68dd8ad23412a8cd4&quot;</span>,
    <span class="dt">&quot;repeat_actions&quot;</span>: <span class="dv">false</span>,
    <span class="dt">&quot;state&quot;</span>: <span class="st">&quot;insufficient data&quot;</span>,
    <span class="dt">&quot;state_timestamp&quot;</span>: <span class="st">&quot;2015-01-04T02:25:44.216495&quot;</span>,
    <span class="dt">&quot;threshold_rule&quot;</span>: {
        <span class="dt">&quot;comparison_operator&quot;</span>: <span class="st">&quot;ge&quot;</span>,
        <span class="dt">&quot;evaluation_periods&quot;</span>: <span class="dv">3</span>,
        <span class="dt">&quot;exclude_outliers&quot;</span>: <span class="dv">false</span>,
        <span class="dt">&quot;meter_name&quot;</span>: <span class="st">&quot;cpu_util&quot;</span>,
        <span class="dt">&quot;period&quot;</span>: <span class="dv">1800</span>,
        <span class="dt">&quot;query&quot;</span>: [
            {
                <span class="dt">&quot;field&quot;</span>: <span class="st">&quot;resource_id&quot;</span>,
                <span class="dt">&quot;op&quot;</span>: <span class="st">&quot;eq&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;10e8216e-4b36-4f93-942f-19b9f09e84e5&quot;</span>
            }
        ],
        <span class="dt">&quot;statistic&quot;</span>: <span class="st">&quot;min&quot;</span>,
        <span class="dt">&quot;threshold&quot;</span>: <span class="fl">80.0</span>
    },
    <span class="dt">&quot;time_constraints&quot;</span>: [
        {
            <span class="dt">&quot;description&quot;</span>: <span class="st">&quot;Time constraint at 0 23 * * * lasting for 10800 seconds&quot;</span>,
            <span class="dt">&quot;duration&quot;</span>: <span class="dv">10800</span>,
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;alarm-constraint-01&quot;</span>,
            <span class="dt">&quot;start&quot;</span>: <span class="st">&quot;0 23 * * *&quot;</span>,
            <span class="dt">&quot;timezone&quot;</span>: <span class="st">&quot;&quot;</span>
        }
    ],
    <span class="dt">&quot;timestamp&quot;</span>: <span class="st">&quot;2015-01-04T02:25:44.216495&quot;</span>,
    <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;threshold&quot;</span>,
    <span class="dt">&quot;user_id&quot;</span>: <span class="st">&quot;2630d3c577df426bab9a4d9bfa986297&quot;</span>
}</code></pre>
<h2 id="list-alarms"><span class="header-section-number">5.2</span> List Alarms</h2>
<table>
<thead>
<tr class="header">
<th align="left">REST VERB</th>
<th align="left">URI</th>
<th align="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GET</td>
<td align="left">/v2/alarms?q.op=eq&amp;q.value={value}&amp;q.field={field}</td>
<td align="left">List alarms</td>
</tr>
</tbody>
</table>
<p>valid keys: ['alarm_id', 'enabled', 'meter', 'name', 'pagination', 'project', 'state', 'type', 'user']</p>
<p>curl -i -X GET -H 'User-Agent: python-ceilometerclient' -H 'Content-Type: application/json' -H &quot;X-Auth-Token: $(keystone token-get | awk 'NR==5{print $4}')&quot; -k &quot;https://metering.localdomain.com:8777/v2/alarms&quot;</p>
<pre class="sourceCode json"><code class="sourceCode json"></code></pre>
<h2 id="get-alarm"><span class="header-section-number">5.3</span> Get Alarm</h2>
<table>
<thead>
<tr class="header">
<th align="left">REST VERB</th>
<th align="left">URI</th>
<th align="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GET</td>
<td align="left">/v2/alarms/{alarm_id}</td>
<td align="left">Get alarm detailed information</td>
</tr>
</tbody>
</table>
<h2 id="能力capabilities-1"><span class="header-section-number">5.4</span> 能力（Capabilities）</h2>
<h3 id="查询能力详情get-capabilities"><span class="header-section-number">5.4.1</span> 查询能力详情（Get Capabilities）</h3>
<table>
<thead>
<tr class="header">
<th align="left">REST VERB</th>
<th align="left">URI</th>
<th align="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GET</td>
<td align="left">/v2/capabilities</td>
<td align="left">查询能力列表（查询当前版本的能力，例如分页查询是否支持等。）</td>
</tr>
</tbody>
</table>
<p>curl -i -X GET -H 'User-Agent: python-ceilometerclient' -H 'Content-Type: application/json' -H &quot;X-Auth-Token: $(keystone token-get | awk 'NR==5{print $4}')&quot; -k &quot;https://metering.localdomain.com:8777/v2/capabilities&quot;</p>
<pre class="sourceCode json"><code class="sourceCode json">{
    <span class="dt">&quot;alarm_storage&quot;</span>: {
        <span class="dt">&quot;storage:production_ready&quot;</span>: <span class="dv">true</span>
    },
    <span class="dt">&quot;api&quot;</span>: {
        <span class="dt">&quot;alarms:history:query:complex&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;alarms:history:query:simple&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;alarms:query:complex&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;alarms:query:simple&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;events:query:simple&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;meters:pagination&quot;</span>: <span class="dv">false</span>,
        <span class="dt">&quot;meters:query:complex&quot;</span>: <span class="dv">false</span>,
        <span class="dt">&quot;meters:query:metadata&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;meters:query:simple&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;resources:pagination&quot;</span>: <span class="dv">false</span>,
        <span class="dt">&quot;resources:query:complex&quot;</span>: <span class="dv">false</span>,
        <span class="dt">&quot;resources:query:metadata&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;resources:query:simple&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;samples:groupby&quot;</span>: <span class="dv">false</span>,
        <span class="dt">&quot;samples:pagination&quot;</span>: <span class="dv">false</span>,
        <span class="dt">&quot;samples:query:complex&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;samples:query:metadata&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;samples:query:simple&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;statistics:aggregation:selectable:avg&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;statistics:aggregation:selectable:cardinality&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;statistics:aggregation:selectable:count&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;statistics:aggregation:selectable:max&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;statistics:aggregation:selectable:min&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;statistics:aggregation:selectable:stddev&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;statistics:aggregation:selectable:sum&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;statistics:aggregation:standard&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;statistics:groupby&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;statistics:pagination&quot;</span>: <span class="dv">false</span>,
        <span class="dt">&quot;statistics:query:complex&quot;</span>: <span class="dv">false</span>,
        <span class="dt">&quot;statistics:query:metadata&quot;</span>: <span class="dv">true</span>,
        <span class="dt">&quot;statistics:query:simple&quot;</span>: <span class="dv">true</span>
    },
    <span class="dt">&quot;storage&quot;</span>: {
        <span class="dt">&quot;storage:production_ready&quot;</span>: <span class="dv">true</span>
    }
}</code></pre>
<h2 id="事件event-1"><span class="header-section-number">5.5</span> 事件（Event）</h2>
<h3 id="查询事件list-events"><span class="header-section-number">5.5.1</span> 查询事件（List Events）</h3>
<table>
<thead>
<tr class="header">
<th align="left">REST VERB</th>
<th align="left">URI</th>
<th align="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GET</td>
<td align="left">/v2/events?q.field={field}&amp;q.op={operator}&amp;q.type={type}&amp;q.value={value}</td>
<td align="left">查询事件列表</td>
</tr>
</tbody>
</table>
<p>添加过滤条件，格式为q.field={field}&amp;q.op={operator}&amp;q.type={type}&amp;q.value={value}</p>
<p>field原则上没有任何限制，可以随便填。 如果它的值是['event_type', 'message_id', 'start_time', 'end_time']其中之一，则会把这个过滤条件施加到Event表上，此时operator，type将不会起作用。 如果不在这4个值里，则会把过滤条件施加到Trait表上。当field施加在Trait表上时，operator会起作用，默认值是eq, 只能为['lt', 'le', 'eq', 'ne', 'ge', 'gt']其中之一，类型（type）只能是['integer', 'float', 'string', 'datetime']其中之一；如果field不是一个已知的Trait，则返回结果将是空，而不是报错，这是预期的行为。</p>
<p>例如/v2/events?q.field=event_type&amp;q.op=eq&amp;q.type=string&amp;q.value=compute.instance.update 这个过滤条件的意思是获取类型为compute.instance.update的事件。</p>
<p>例如/v2/events?q.field=state&amp;q.op=eq&amp;q.type=string&amp;q.value=deleted这个过滤条件的意思是获取特征（trait）中状态（state）为已删除（deleted）的事件。</p>
<p>注意，由于bug: <a href="https://bugs.launchpad.net/ceilometer/+bug/1407374">https://bugs.launchpad.net/ceilometer/+bug/1407374</a>导致了当type没有指定时会报500错误，你必须显示指定type才可以规避这个bug，这个bug存在于2014.2以及2014.2.1中。例如/v2/events?q.field=state&amp;q.op=eq&amp;q.type=&amp;q.value=deleted这样写就会触发bug。</p>
<p>你可以同时指定多个过滤条件，也可以一个也不指定，为了API能够快速响应，同时也为了减小系统压力，请尽量使用过滤条件进行精确查询。注意，不建议使用message_id过滤，当你想只获取某个Event时，建议使用专门的Get Event接口，message_id是唯一的，使用专门的接口显得你很专业，也可以避免不必要的服务器负担。</p>
<p>示例：查询系统上事件类型为compute.instance.delete.start的事件，为了方便举例，此处仅截取了响应体列表的一个元素，且对该元素进行了json格式化，实际返回的是纯文本。</p>
<p>curl -i -X GET -H 'X-Auth-Token: 56c50f283bb84ee28d29d77f35a3714d' -H 'Content-Type: application/json' -H 'Accept: application/json' -H 'User-Agent: python-ceilometerclient' 'http://172.128.231.201:8777/v2/events?q.field=event_type&amp;q.op=eq&amp;q.type=&amp;q.value=compute.instance.delete.start'</p>
<pre class="sourceCode json"><code class="sourceCode json">[
    {
        <span class="dt">&quot;event_type&quot;</span>: <span class="st">&quot;compute.instance.delete.start&quot;</span>,
        <span class="dt">&quot;generated&quot;</span>: <span class="st">&quot;2014-12-28T22:50:53.113282&quot;</span>,
        <span class="dt">&quot;message_id&quot;</span>: <span class="st">&quot;a25935cb-9d74-4f2f-9c5e-5a162f022095&quot;</span>,
        <span class="dt">&quot;traits&quot;</span>: [
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;state&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;active&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;root_gb&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;0&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;user_id&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;2630d3c577df426bab9a4d9bfa986297&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;service&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;compute&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;disk_gb&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;0&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;instance_type&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;64m-ram&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;tenant_id&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;d1578b5392f744b68dd8ad23412a8cd4&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;ephemeral_gb&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;0&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;instance_type_id&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;6&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;vcpus&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;1&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;memory_mb&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;64&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;instance_id&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;5e7d8e95-a8a5-41ab-a1dc-c0fbbb9fa705&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;host&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;openstack&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;request_id&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;req-4b599fb8-0cc7-4980-9a61-5bd2c51d0ffb&quot;</span>
            },
            {
                <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;launched_at&quot;</span>,
                <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;datetime&quot;</span>,
                <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;2014-12-28T22:36:27&quot;</span>
            }
        ]
    }
]</code></pre>
<h3 id="查询事件详情get-event"><span class="header-section-number">5.5.2</span> 查询事件详情（Get Event）</h3>
<table>
<thead>
<tr class="header">
<th align="left">REST VERB</th>
<th align="left">URI</th>
<th align="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GET</td>
<td align="left">/v2/events/{message_id}</td>
<td align="left">查询某事件</td>
</tr>
</tbody>
</table>
<p>注意，查询单个事件并不能比查询事件列表获取更详细的信息，但是有助于提高性能，减轻系统压力。</p>
<p>示例：为了方便举例，对响应体进行了json格式化，实际返回的是纯文本。</p>
<p>curl -i -X GET -H 'X-Auth-Token: d980626ab92c4a17b1fb69f1e6eddc06' -H 'Content-Type: application/json' -H 'Accept: application/json' -H 'User-Agent: python-ceilometerclient' http://172.128.231.201:8777/v2/events/a25935cb-9d74-4f2f-9c5e-5a162f022095</p>
<pre class="sourceCode json"><code class="sourceCode json">{
    <span class="dt">&quot;event_type&quot;</span>: <span class="st">&quot;compute.instance.delete.start&quot;</span>,
    <span class="dt">&quot;generated&quot;</span>: <span class="st">&quot;2014-12-28T22:50:53.113282&quot;</span>,
    <span class="dt">&quot;message_id&quot;</span>: <span class="st">&quot;a25935cb-9d74-4f2f-9c5e-5a162f022095&quot;</span>,
    <span class="dt">&quot;traits&quot;</span>: [
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;state&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;active&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;root_gb&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;0&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;user_id&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;2630d3c577df426bab9a4d9bfa986297&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;service&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;compute&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;disk_gb&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;0&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;instance_type&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;64m-ram&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;tenant_id&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;d1578b5392f744b68dd8ad23412a8cd4&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;ephemeral_gb&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;0&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;instance_type_id&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;6&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;vcpus&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;1&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;memory_mb&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;64&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;instance_id&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;5e7d8e95-a8a5-41ab-a1dc-c0fbbb9fa705&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;host&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;openstack&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;request_id&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;req-4b599fb8-0cc7-4980-9a61-5bd2c51d0ffb&quot;</span>
        },
        {
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;launched_at&quot;</span>,
            <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;datetime&quot;</span>,
            <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;2014-12-28T22:36:27&quot;</span>
        }
    ]
}</code></pre>
<h3 id="查询事件类型list-event-types"><span class="header-section-number">5.5.3</span> 查询事件类型（List Event Types）</h3>
<table>
<thead>
<tr class="header">
<th align="left">REST VERB</th>
<th align="left">URI</th>
<th align="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GET</td>
<td align="left">/v2/event_types</td>
<td align="left">查询记录的事件类型列表</td>
</tr>
</tbody>
</table>
<p>注意：Ceilometer支持的所有事件类型和此处的类型列表不是一个概念，这里显示的是系统上到现在为止记录的所有事件中，有哪些事件类型，其结果是支持的事件类型的子集。</p>
<p>Ceilometer Juno默认有的事件类型有：</p>
<ul>
<li>compute.instance.*</li>
<li>compute.instance.exists</li>
</ul>
<p>通过修改/etc/ceilometer/event_definitions.yaml并重启ceilometer-agent-notification服务可以增加新的事件类型。</p>
<p>示例：为了方便举例，此处仅截取了响应体列表的若干个元素（删除虚拟机的动作导致的事件），且对该元素进行了json格式化，实际返回的是纯文本。</p>
<p>curl -i -X GET -H 'X-Auth-Token: 5f113ec0cb3249219d8e5300321c2282' -H 'Content-Type: application/json' -H 'Accept: application/json' -H 'User-Agent: python-ceilometerclient' http://172.128.231.201:8777/v2/event_types/</p>
<pre class="sourceCode json"><code class="sourceCode json">[
    <span class="st">&quot;compute.instance.delete.end&quot;</span>,
    <span class="st">&quot;compute.instance.delete.start&quot;</span>,
    <span class="st">&quot;compute.instance.exists&quot;</span>,
    <span class="st">&quot;compute.instance.shutdown.end&quot;</span>,
    <span class="st">&quot;compute.instance.shutdown.start&quot;</span>,
    <span class="st">&quot;compute.instance.update&quot;</span>
]</code></pre>
<h3 id="查询特征描述list-traits-description"><span class="header-section-number">5.5.4</span> 查询特征描述（List Traits Description）</h3>
<table>
<thead>
<tr class="header">
<th align="left">REST VERB</th>
<th align="left">URI</th>
<th align="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GET</td>
<td align="left">/v2/events_types/{event_type}/traits</td>
<td align="left">查询某事件类型的特征描述列表</td>
</tr>
</tbody>
</table>
<p>注意：如果event_type输入的是一个不存在的的类型，该接口不会报错，只会返回一个空列表。这是预期的行为。</p>
<p>示例：为了方便举例，对响应体进行了json格式化，实际返回的是纯文本。</p>
<p>curl -i -X GET -H 'X-Auth-Token: 1f9a3ec4845a49d8afa6faf48cd31300' -H 'Content-Type: application/json' -H 'Accept: application/json' -H 'User-Agent: python-ceilometerclient' http://172.128.231.201:8777/v2/event_types/compute.instance.delete.start/traits</p>
<pre class="sourceCode json"><code class="sourceCode json">[
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;disk_gb&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;ephemeral_gb&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;host&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;instance_id&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;instance_type&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;instance_type_id&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;launched_at&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;datetime&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;memory_mb&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;request_id&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;root_gb&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;service&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;state&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;tenant_id&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;user_id&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;string&quot;</span>
    },
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;vcpus&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>
    }
]</code></pre>
<h3 id="查询特征list-traits"><span class="header-section-number">5.5.5</span> 查询特征（List Traits）</h3>
<table>
<thead>
<tr class="header">
<th align="left">REST VERB</th>
<th align="left">URI</th>
<th align="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GET</td>
<td align="left">/v2/events_types/{event_type}/traits/{trait_name}</td>
<td align="left">查询某事件类型的某特征列表</td>
</tr>
</tbody>
</table>
<p>注意：如果event_type输入的是一个不存在的的类型，该接口不会报错，只会返回一个空列表。如果trait_name输入的是不存在的特征，该接口不会报错，只会返回一个空列表。这是预期的行为。</p>
<p>示例：为了方便举例，对响应体进行了json格式化，实际返回的是纯文本。</p>
<p>curl -i -X GET -H 'X-Auth-Token: 1f9a3ec4845a49d8afa6faf48cd31300' -H 'Content-Type: application/json' -H 'Accept: application/json' -H 'User-Agent: python-ceilometerclient' http://172.128.231.201:8777/v2/event_types/compute.instance.delete.start/traits/vcpus</p>
<pre class="sourceCode json"><code class="sourceCode json">[
    {
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;vcpus&quot;</span>,
        <span class="dt">&quot;type&quot;</span>: <span class="st">&quot;integer&quot;</span>,
        <span class="dt">&quot;value&quot;</span>: <span class="st">&quot;1&quot;</span>
    }
]</code></pre>
<h1 id="resource"><span class="header-section-number">6</span> Resource</h1>
<h2 id="list-resources"><span class="header-section-number">6.1</span> List Resources</h2>
<table>
<thead>
<tr class="header">
<th align="left">REST VERB</th>
<th align="left">URI</th>
<th align="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GET</td>
<td align="left">/v2/resources?meter_links=1&amp;q.op={operator}&amp;q.value={value}&amp;q.field={field}</td>
<td align="left">List Resources</td>
</tr>
</tbody>
</table>
<p>valid keys: ['end_timestamp', 'end_timestamp_op', 'metaquery', 'pagination', 'project', 'resource', 'source', 'start_timestamp', 'start_timestamp_op', 'user']</p>
<p>curl -i -X GET -H 'User-Agent: python-ceilometerclient' -H 'Content-Type: application/json' -H &quot;X-Auth-Token: $(keystone token-get | awk 'NR==5{print $4}')&quot; -k &quot;https://metering.localdomain.com:8777/v2/resources?meter_links=1&quot;</p>
<pre class="sourceCode json"><code class="sourceCode json">[
    {
        <span class="dt">&quot;first_sample_timestamp&quot;</span>: <span class="st">&quot;2014-12-04T03:10:42.402000&quot;</span>,
        <span class="dt">&quot;last_sample_timestamp&quot;</span>: <span class="st">&quot;2014-12-15T00:16:40&quot;</span>,
        <span class="dt">&quot;links&quot;</span>: [
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/resources/8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;self&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/vcpus?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;vcpus&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/instance:m1.tiny?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;instance:m1.tiny&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/instance?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;instance&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/memory?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;memory&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/disk.ephemeral.size?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;disk.ephemeral.size&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/disk.root.size?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;disk.root.size&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/disk.read.bytes?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;disk.read.bytes&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/disk.read.requests?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;disk.read.requests&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/disk.write.requests?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;disk.write.requests&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/disk.write.bytes?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;disk.write.bytes&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/cpu?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;cpu&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/cpu_util?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;cpu_util&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/disk.read.bytes.rate?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;disk.read.bytes.rate&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/disk.read.requests.rate?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;disk.read.requests.rate&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/disk.write.requests.rate?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;disk.write.requests.rate&quot;</span>
            },
            {
                <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/disk.write.bytes.rate?q.field=resource_id&amp;q.value=8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
                <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;disk.write.bytes.rate&quot;</span>
            }
        ],
        <span class="dt">&quot;metadata&quot;</span>: {
            <span class="dt">&quot;OS-EXT-AZ.availability_zone&quot;</span>: <span class="st">&quot;az1.dc1&quot;</span>,
            <span class="dt">&quot;device&quot;</span>: <span class="st">&quot;[vda]&quot;</span>,
            <span class="dt">&quot;disk_gb&quot;</span>: <span class="st">&quot;1&quot;</span>,
            <span class="dt">&quot;display_name&quot;</span>: <span class="st">&quot;as-ASG-gpcheb3tt5yk-uvcdt75k7vfi-ngi72lsbd7ji&quot;</span>,
            <span class="dt">&quot;ephemeral_gb&quot;</span>: <span class="st">&quot;0&quot;</span>,
            <span class="dt">&quot;flavor.disk&quot;</span>: <span class="st">&quot;1&quot;</span>,
            <span class="dt">&quot;flavor.ephemeral&quot;</span>: <span class="st">&quot;0&quot;</span>,
            <span class="dt">&quot;flavor.id&quot;</span>: <span class="st">&quot;1&quot;</span>,
            <span class="dt">&quot;flavor.links&quot;</span>: <span class="st">&quot;[\&quot;{uhref: uhttps://compute.localdomain.com:8001/13b4b5694ebb49c9a927c0ffd3ba28cb/flavors/1, urel: ubookmark}\&quot;]&quot;</span>,
            <span class="dt">&quot;flavor.name&quot;</span>: <span class="st">&quot;m1.tiny&quot;</span>,
            <span class="dt">&quot;flavor.ram&quot;</span>: <span class="st">&quot;512&quot;</span>,
            <span class="dt">&quot;flavor.vcpus&quot;</span>: <span class="st">&quot;1&quot;</span>,
            <span class="dt">&quot;host&quot;</span>: <span class="st">&quot;2e00e1525a23119869d5ed01605a2828479d22844052fdbb2f60925c&quot;</span>,
            <span class="dt">&quot;image.id&quot;</span>: <span class="st">&quot;2ff58fab-ee6c-40ee-90b7-299452ef5b92&quot;</span>,
            <span class="dt">&quot;image.links&quot;</span>: <span class="st">&quot;[\&quot;{uhref: uhttps://compute.localdomain.com:8001/13b4b5694ebb49c9a927c0ffd3ba28cb/images/2ff58fab-ee6c-40ee-90b7-299452ef5b92, urel: ubookmark}\&quot;]&quot;</span>,
            <span class="dt">&quot;image.name&quot;</span>: <span class="st">&quot;myImage&quot;</span>,
            <span class="dt">&quot;image_ref&quot;</span>: <span class="st">&quot;2ff58fab-ee6c-40ee-90b7-299452ef5b92&quot;</span>,
            <span class="dt">&quot;image_ref_url&quot;</span>: <span class="st">&quot;https://compute.localdomain.com:8001/13b4b5694ebb49c9a927c0ffd3ba28cb/images/2ff58fab-ee6c-40ee-90b7-299452ef5b92&quot;</span>,
            <span class="dt">&quot;instance_type&quot;</span>: <span class="st">&quot;1&quot;</span>,
            <span class="dt">&quot;kernel_id&quot;</span>: <span class="st">&quot;None&quot;</span>,
            <span class="dt">&quot;memory_mb&quot;</span>: <span class="st">&quot;512&quot;</span>,
            <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;instance-00000002&quot;</span>,
            <span class="dt">&quot;ramdisk_id&quot;</span>: <span class="st">&quot;None&quot;</span>,
            <span class="dt">&quot;root_gb&quot;</span>: <span class="st">&quot;1&quot;</span>,
            <span class="dt">&quot;status&quot;</span>: <span class="st">&quot;active&quot;</span>,
            <span class="dt">&quot;user_metadata.AutoScalingGroupName&quot;</span>: <span class="st">&quot;as-ASG-gpcheb3tt5yk&quot;</span>,
            <span class="dt">&quot;user_metadata.groupname&quot;</span>: <span class="st">&quot;as-ASG-gpcheb3tt5yk&quot;</span>,
            <span class="dt">&quot;vcpus&quot;</span>: <span class="st">&quot;1&quot;</span>
        },
        <span class="dt">&quot;project_id&quot;</span>: <span class="st">&quot;104beede98164e5e894eb79bf685c584&quot;</span>,
        <span class="dt">&quot;resource_id&quot;</span>: <span class="st">&quot;8813ac84-d01d-4c97-ad31-4f04cf128f9b&quot;</span>,
        <span class="dt">&quot;source&quot;</span>: <span class="st">&quot;openstack&quot;</span>,
        <span class="dt">&quot;user_id&quot;</span>: <span class="st">&quot;db3b71f5e5f346d9b4d53a55a10a33f9&quot;</span>
    }
]</code></pre>
<h2 id="get-resource"><span class="header-section-number">6.2</span> Get Resource</h2>
<table>
<thead>
<tr class="header">
<th align="left">REST VERB</th>
<th align="left">URI</th>
<th align="left">DESCRIPTION</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">GET</td>
<td align="left">/v2/resources/{resource_id}</td>
<td align="left">Get resource detailed information</td>
</tr>
</tbody>
</table>
<p>curl -i -X GET -H 'User-Agent: python-ceilometerclient' -H 'Content-Type: application/json' -H &quot;X-Auth-Token: $(keystone token-get | awk 'NR==5{print $4}')&quot; -k &quot;https://metering.localdomain.com:8777/v2/resources/2ff58fab-ee6c-40ee-90b7-299452ef5b92&quot;</p>
<pre class="sourceCode json"><code class="sourceCode json">{
    <span class="dt">&quot;first_sample_timestamp&quot;</span>: <span class="st">&quot;2014-12-04T02:27:59&quot;</span>,
    <span class="dt">&quot;last_sample_timestamp&quot;</span>: <span class="st">&quot;2014-12-15T00:22:08&quot;</span>,
    <span class="dt">&quot;links&quot;</span>: [
        {
            <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/resources/2ff58fab-ee6c-40ee-90b7-299452ef5b92&quot;</span>,
            <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;self&quot;</span>
        },
        {
            <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/image?q.field=resource_id&amp;q.value=2ff58fab-ee6c-40ee-90b7-299452ef5b92&quot;</span>,
            <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;image&quot;</span>
        },
        {
            <span class="dt">&quot;href&quot;</span>: <span class="st">&quot;https://metering.localdomain.com:8777/v2/meters/image.size?q.field=resource_id&amp;q.value=2ff58fab-ee6c-40ee-90b7-299452ef5b92&quot;</span>,
            <span class="dt">&quot;rel&quot;</span>: <span class="st">&quot;image.size&quot;</span>
        }
    ],
    <span class="dt">&quot;metadata&quot;</span>: {
        <span class="dt">&quot;checksum&quot;</span>: <span class="st">&quot;d972013792949d0d3ba628fbe8685bce&quot;</span>,
        <span class="dt">&quot;container_format&quot;</span>: <span class="st">&quot;bare&quot;</span>,
        <span class="dt">&quot;created_at&quot;</span>: <span class="st">&quot;2014-12-04T02:27:51.843400&quot;</span>,
        <span class="dt">&quot;deleted&quot;</span>: <span class="st">&quot;False&quot;</span>,
        <span class="dt">&quot;deleted_at&quot;</span>: <span class="st">&quot;None&quot;</span>,
        <span class="dt">&quot;disk_format&quot;</span>: <span class="st">&quot;qcow2&quot;</span>,
        <span class="dt">&quot;is_public&quot;</span>: <span class="st">&quot;True&quot;</span>,
        <span class="dt">&quot;min_disk&quot;</span>: <span class="st">&quot;0&quot;</span>,
        <span class="dt">&quot;min_ram&quot;</span>: <span class="st">&quot;0&quot;</span>,
        <span class="dt">&quot;name&quot;</span>: <span class="st">&quot;myImage&quot;</span>,
        <span class="dt">&quot;protected&quot;</span>: <span class="st">&quot;False&quot;</span>,
        <span class="dt">&quot;size&quot;</span>: <span class="st">&quot;13147648&quot;</span>,
        <span class="dt">&quot;status&quot;</span>: <span class="st">&quot;active&quot;</span>,
        <span class="dt">&quot;updated_at&quot;</span>: <span class="st">&quot;2014-12-04T02:27:53.914783&quot;</span>
    },
    <span class="dt">&quot;project_id&quot;</span>: <span class="st">&quot;104beede98164e5e894eb79bf685c584&quot;</span>,
    <span class="dt">&quot;resource_id&quot;</span>: <span class="st">&quot;2ff58fab-ee6c-40ee-90b7-299452ef5b92&quot;</span>,
    <span class="dt">&quot;source&quot;</span>: <span class="st">&quot;openstack&quot;</span>,
    <span class="dt">&quot;user_id&quot;</span>: <span class="dv">null</span>
}</code></pre>
<script type="text/javascript" src="../jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="../jquery-ui-1.10.4.min.js"></script>
<script type="text/javascript" src="../jquery.xlstablefilter-1.0.1.min.js"></script>
<script type="text/javascript">
  $(document).ready(function () {
    $("table").xlsTableFilter();
    $('table tr').hover(function () {
      $(this).find('td').addClass('hover');
    }, function () {
      $(this).find('td').removeClass('hover');
    });
  });
</script>
</body>
</html>
